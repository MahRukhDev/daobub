"use strict";(self.webpackChunk_1inch=self.webpackChunk_1inch||[]).push([[2767],{92110:(U,S,n)=>{n.d(S,{z:()=>x});var e=n(51109),t=n(52126);let x=(()=>{class l{}return l.\u0275fac=function(c){return new(c||l)},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["gas-price-widget"]],decls:1,vars:2,consts:[["domain","classic-swap-embed-gas-price",3,"compactMode","showTitles"]],template:function(c,d){1&c&&e.\u0275\u0275element(0,"swap-settings",0),2&c&&e.\u0275\u0275property("compactMode",!0)("showTitles",!1)},dependencies:[t.W],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),l})()},15927:(U,S,n)=>{n.d(S,{$:()=>$});var e=n(33747),t=n(35878),x=n(77724),l=n(55231),C=n(90813),c=n(51109),d=n(19333);let $=(()=>{class w{constructor(v,h,T,y,m){this.destroy$=v,this.element=h,this.templateRef=T,this.viewContainer=y,this.settingToggleQuery=m}set isSettingWidgetVisible(v){const{contextId:h,widgetId:T}=v;this.contextId=h,this.widgetId=T}get isViewCreated(){return null!==this.viewContainer.get(0)}ngOnInit(){const v=this.settingToggleQuery.isWidgetOpened$(this.contextId,this.widgetId).pipe((0,t.x)(),(0,x.b)(h=>{!h||this.isViewCreated?h||!this.isViewCreated||this.viewContainer.clear():this.viewContainer.createEmbeddedView(this.templateRef)}),(0,l.R)(this.destroy$));(0,C.O)(v,"isWidgetVisible$")}}return w.\u0275fac=function(v){return new(v||w)(c.\u0275\u0275directiveInject(e.a3,2),c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(c.TemplateRef),c.\u0275\u0275directiveInject(c.ViewContainerRef),c.\u0275\u0275directiveInject(d.k))},w.\u0275dir=c.\u0275\u0275defineDirective({type:w,selectors:[["","isSettingWidgetVisible",""]],inputs:{isSettingWidgetVisible:"isSettingWidgetVisible"},features:[c.\u0275\u0275ProvidersFeature([e.a3])]}),w})()},63582:(U,S,n)=>{n.d(S,{z:()=>y});var e=n(51109),t=n(90813),x=n(33747),l=n(76027),C=n(35878),c=n(77724),d=n(55231),$=n(74578),w=n(19333),D=n(86732),v=n(12725),h=n(38143);function T(m,u){if(1&m){const g=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"button",1),e.\u0275\u0275listener("click",function(){const R=e.\u0275\u0275restoreView(g).tuiLet,F=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(F.clickEdit(!R))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&m){const g=u.tuiLet;e.\u0275\u0275advance(1),e.\u0275\u0275property("transloco",g?"transactionCost.hide-title":"common.edit")}}let y=(()=>{class m{constructor(g,P,A){this.destroy$=g,this.settingToggleQuery=P,this.settingToggleService=A,this.customToggleFlow=!1,this.toggleClick=new e.EventEmitter,this.isWidgetOpened$=new l.X(!1)}ngOnInit(){const g=this.settingToggleQuery.isWidgetOpened$(this.contextId,this.widgetId).pipe((0,C.x)(),(0,c.b)(P=>{this.isWidgetOpened$.next(P)}),(0,d.R)(this.destroy$));(0,t.O)(g,"isWidgetOpened$")}clickEdit(g){this.settingToggleService.changeIsWidgetOpened({isOpened:g,contextId:this.contextId,widgetId:this.widgetId}),this.customToggleFlow&&this.toggleClick.emit(g)}}return m.\u0275fac=function(g){return new(g||m)(e.\u0275\u0275directiveInject(x.a3,2),e.\u0275\u0275directiveInject(w.k),e.\u0275\u0275directiveInject(D.d))},m.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["setting-toggle"]],inputs:{contextId:"contextId",widgetId:"widgetId",customToggleFlow:"customToggleFlow"},outputs:{toggleClick:"toggleClick"},features:[e.\u0275\u0275ProvidersFeature([x.a3])],decls:2,vars:3,consts:[[4,"tuiLet"],[1,"edit-button","blank-button",3,"transloco","click"]],template:function(g,P){1&g&&(e.\u0275\u0275template(0,T,2,1,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&g&&e.\u0275\u0275property("tuiLet",e.\u0275\u0275pipeBind1(1,1,P.isWidgetOpened$))},dependencies:[$.Ls,v.KI,h.Ov],styles:["[_nghost-%COMP%]{display:block}.edit-button[_ngcontent-%COMP%]{font-size:13px;color:var(--1inch-common-text-03)}.edit-button[_ngcontent-%COMP%]:hover{opacity:.75;transition:.2s}"]}),m})()},46173:(U,S,n)=>{n.d(S,{X:()=>x});var e=n(51109),t=n(80135);let x=(()=>{class l{constructor(){}}return l.\u0275fac=function(c){return new(c||l)},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["attention-icon"]],inputs:{tooltipText:"tooltipText",tooltipDirection:"tooltipDirection",type:"type"},decls:1,vars:6,consts:[["contentType","attention-triangle",1,"attention-icon",3,"tooltip","direction"]],template:function(c,d){1&c&&e.\u0275\u0275element(0,"tooltip",0),2&c&&(e.\u0275\u0275classProp("alert-type","error"===d.type||"alert"===d.type)("warn-type","warn"===d.type||"info"===d.type),e.\u0275\u0275property("tooltip",d.tooltipText)("direction",d.tooltipDirection))},dependencies:[t.K],styles:[".attention-icon[_ngcontent-%COMP%]{margin-left:4px;margin-top:-2px}.alert-type[_ngcontent-%COMP%]     .tooltip-icon{color:var(--1inch__text-and-icons__error)}.warn-type[_ngcontent-%COMP%]     .tooltip-icon{color:var(--1inch__text-and-icons__warning)}"],changeDetection:0}),l})()},82767:(U,S,n)=>{n.d(S,{D:()=>W});var e=n(48163),t=n(51109),x=n(83108),l=n(5327),C=n(90813),c=n(95021),d=n(52126),$=n(43253),w=n(34377),D=n(33747),v=n(33643),h=n(29737),T=n(53886),y=n(76027),m=n(76327),u=n(64736),g=n(35878),P=n(77724),A=n(55231),R=n(18992),F=n(48640),X=n(77616),N=n(36565),z=n(24124),b=n(69064),Y=n(40475),V=n(12725),H=n(140),r=n(97093),f=n(97202),s=n(74578),_=n(38143),I=n(46173),K=n(63582);let O=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=t.\u0275\u0275defineComponent({type:i,selectors:[["slippage-widget"]],decls:1,vars:2,consts:[["domain","classic-swap-embed-slippage",3,"compactMode","showTitles"]],template:function(o,p){1&o&&t.\u0275\u0275element(0,"swap-settings",0),2&o&&t.\u0275\u0275property("compactMode",!0)("showTitles",!1)},dependencies:[d.W],styles:["[_nghost-%COMP%]{display:block}"]}),i})();var et=n(92110),nt=n(15927),it=n(25541);function ot(i,a){if(1&i){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const M=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(M.handleOpenSettings("gas-price"))}),t.\u0275\u0275text(1," Edit "),t.\u0275\u0275elementEnd()}}function at(i,a){1&i&&(t.\u0275\u0275element(0,"attention-icon",10),t.\u0275\u0275pipe(1,"transloco")),2&i&&t.\u0275\u0275property("tooltipText",t.\u0275\u0275pipeBind1(1,1,"swapConfirmSettings.gasPrice.alert-text"))}function st(i,a){if(1&i&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",3)(2,"span",4),t.\u0275\u0275text(3,"Gas price"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"div",5),t.\u0275\u0275template(5,ot,2,0,"a",6),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275elementStart(7,"span")(8,"span",7),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,at,2,3,"attention-icon",8),t.\u0275\u0275elementEnd()()()),2&i){const o=a.tuiLet,p=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(6,5,p.isReadOnlyGasPriceNetwork$)),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("alert-row",o),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,7,p.gasPriceValue$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",o)}}function rt(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,st,12,9,"div",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("tuiLet",t.\u0275\u0275pipeBind1(2,1,o.isGasPriceNeedAdjust$))}}function ct(i,a){if(1&i){const o=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"a",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(o);const M=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(M.handleOpenSettings("slippage"))}),t.\u0275\u0275text(1," Edit "),t.\u0275\u0275elementEnd()}}function pt(i,a){if(1&i&&t.\u0275\u0275element(0,"setting-toggle",19),2&i){const o=t.\u0275\u0275nextContext(4);t.\u0275\u0275property("contextId",o.contextId)}}function lt(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,pt,1,1,"setting-toggle",18),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,1,o.isSlippageEditable$))}}function gt(i,a){1&i&&(t.\u0275\u0275elementStart(0,"span",20),t.\u0275\u0275text(1,"Auto"),t.\u0275\u0275elementEnd())}function _t(i,a){if(1&i&&(t.\u0275\u0275element(0,"attention-icon",21),t.\u0275\u0275pipe(1,"transloco")),2&i){const o=t.\u0275\u0275nextContext().tuiLet;t.\u0275\u0275property("tooltipText",t.\u0275\u0275pipeBind1(1,2,o.text))("type",o.type)}}const dt=function(){return["warn","info"]};function mt(i,a){if(1&i&&(t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275template(1,ct,2,0,"a",13),t.\u0275\u0275template(2,lt,3,3,"ng-container",0),t.\u0275\u0275elementStart(3,"span")(4,"span",14),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,gt,2,0,"span",15),t.\u0275\u0275pipe(8,"async"),t.\u0275\u0275template(9,_t,2,4,"attention-icon",16),t.\u0275\u0275elementEnd()()),2&i){const o=a.tuiLet,p=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!p.contextId&&!p.isOTCSwapMode),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!!p.contextId),t.\u0275\u0275advance(1),t.\u0275\u0275classProp("warn-row",t.\u0275\u0275pureFunction0(13,dt).includes(null==o?null:o.type))("alert-row","alert"===(null==o?null:o.type)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,9,p.slippageToleranceValue$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(8,11,p.isAutoSlippage$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",o)}}function Ct(i,a){1&i&&t.\u0275\u0275element(0,"slippage-widget",23)}const ut=function(i){return{contextId:i,widgetId:"slippage"}};function vt(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ct,1,0,"slippage-widget",22),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("isSettingWidgetVisible",t.\u0275\u0275pureFunction1(1,ut,o.contextId))}}function ft(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,vt,2,3,"ng-container",0),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,1,o.isSlippageEditable$))}}function xt(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",2)(2,"div",3)(3,"span",11),t.\u0275\u0275text(4,"Slippage Tolerance"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,mt,10,14,"div",12),t.\u0275\u0275pipe(6,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,ft,3,3,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(5),t.\u0275\u0275property("tuiLet",t.\u0275\u0275pipeBind1(6,2,o.slippageToleranceMessage$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!!o.contextId)}}function wt(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"transaction-cost",28),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("contextId",o.contextId)("loading","update-rates-in-progress"===o.swapConfirmationData.buttonState.type)("txFeeAmount",o.isNeedToRecalculate?0:o.swapConfirmationData.swapDetails.txFeeAmount)("gasPreview",t.\u0275\u0275pipeBind1(2,4,o.currentGasPricePreview$))}}function ht(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"transaction-cost",29),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const o=a.tuiLet,p=t.\u0275\u0275nextContext(6);t.\u0275\u0275advance(1),t.\u0275\u0275property("contextId",p.contextId)("isEditEnable",!1)("loading","update-rates-in-progress"===p.swapConfirmationData.buttonState.type)("txFeeAmount",p.isNeedToRecalculate?0:o)("gasPreview",t.\u0275\u0275pipeBind1(2,5,p.currentGasPricePreview$))}}function Tt(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ht,3,7,"ng-container",27),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext(5);t.\u0275\u0275advance(1),t.\u0275\u0275property("tuiLet",t.\u0275\u0275pipeBind1(2,1,o.customFlashTxFeeAmount$))}}function Pt(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,wt,3,6,"ng-container",0),t.\u0275\u0275template(2,Tt,3,3,"ng-container",0),t.\u0275\u0275elementContainerEnd()),2&i){const o=a.tuiLet,p=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o!==p.SwapTxType.FLASH),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o===p.SwapTxType.FLASH)}}function St(i,a){if(1&i&&(t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275template(1,Pt,3,2,"ng-container",27),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()),2&i){const o=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(1),t.\u0275\u0275property("tuiLet",t.\u0275\u0275pipeBind1(2,1,o.txType$))}}function Et(i,a){if(1&i&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,St,3,3,"div",25),t.\u0275\u0275elementEnd()),2&i){const o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!!o.contextId)}}function yt(i,a){1&i&&t.\u0275\u0275element(0,"gas-price-widget",31)}const It=function(i){return{contextId:i,widgetId:"gas-price"}};function Ot(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,yt,1,0,"gas-price-widget",30),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("isSettingWidgetVisible",t.\u0275\u0275pureFunction1(1,It,o.contextId))}}function Mt(i,a){if(1&i&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Et,2,1,"div",24),t.\u0275\u0275template(2,Ot,2,3,"ng-container",0),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&i){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.swapConfirmationData),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!!o.contextId&&t.\u0275\u0275pipeBind1(3,2,o.txType$)!==o.SwapTxType.FLASH)}}class W{constructor(a,o,p,M,G,j,Q,tt,J,Dt){this.gasPriceQuery=a,this.activeConnectionQuery=o,this.swapSettingsQuery=p,this.swapSettingsService=M,this.translocoService=G,this.swapQuery=j,this.txFeeService=Q,this.swapSlippageService=tt,this.liquiditySourcesQuery=J,this.onDestroy$=Dt,this.visibleItems=["gas-price","slippage"],this.openSettings=new t.EventEmitter,this.gasPriceValue$=this.activeConnectionQuery.isChainSupportEIP1559$.pipe((0,m.w)(E=>E?this.swapSettingsQuery.selectPropsForCurrentChainId(["gasPriceAdvanced","useLegacyTransactions"]).pipe((0,m.w)(({gasPriceAdvanced:L,useLegacyTransactions:Z})=>Z?this.gasPriceQuery.currentLegacyGasPrice$.pipe((0,u.U)(B=>this.translateGwei((0,R.aY)(B)))):(0,T.a)([this.gasPriceQuery.currentAdvancedGasPrice$.pipe((0,c.BX)()),this.gasPriceQuery.select("advanced")]).pipe((0,u.U)(([B,q])=>this.translateGwei("custom"===(null==L?void 0:L.type)?(0,R.aY)(+B.maxFeePerGas):(0,F.p)(B,q.baseFee,this.translocoService)))))):this.gasPriceQuery.currentLegacyGasPrice$.pipe((0,u.U)(L=>this.translateGwei((0,R.aY)(L)))))),this.isGasPriceNeedAdjust$=this.swapSettingsService.isGasPriceNeedAdjust$,this.isReadOnlyGasPriceNetwork$=this.activeConnectionQuery.currentChainId$.pipe((0,u.U)(E=>d.o.includes(E))),this.isAutoSlippage$=this.swapSlippageService.isAutoSlippage$,this.slippageToleranceValue$=this.swapSlippageService.slippageTolerance$.pipe((0,u.U)(E=>`${E}%`)),this.slippageToleranceMessage$=(0,T.a)([this.swapSettingsQuery.isPathfinderPresetOTCEnabled$,this.swapSettingsQuery.selectForCurrentChainId("slippageTolerance"),this.swapSlippageService.autoSlippage$,this.swapSlippageService.selectSourceTokenAmountPrice(),this.activeConnectionQuery.currentChainId$]).pipe((0,u.U)(([E,L,Z,B,q])=>{if(this.swapSettingsQuery.isPathfinderPresetOTCEnabled)return null;if(E)return{type:"info",text:this.translocoService.translate("uni.slippageToleranceWarning.info",{percent:w.o})};const k=(0,X.vA)(L,Z,B,q===l.$L.etherumMainnet);return k?{type:k.type,text:this.translocoService.translate(k.text,k.params)}:null})),this.isSlippageEditable$=this.swapSettingsQuery.pathfinderPreset$.pipe((0,u.U)(E=>E!==$.dn.OTC)),this.txType$=new y.X(void 0),this.customFlashTxFeeAmount$=new y.X(0),this.SwapTxType=x.X,this.swapConfirmationDataUpdate$=new y.X(void 0),this.currentGasLimit$=new y.X(0),this.currentGasPricePreview$=this.currentGasLimit$.pipe((0,m.w)(E=>this.txFeeService.getGasFeePreview(E.toString()||"0")))}set swapConfirmationData(a){(0,h.fS0)(a,this.swapConfirmationData)||(this.confirmationData=a,this.swapConfirmationDataUpdate$.next())}get swapConfirmationData(){return this.confirmationData}set gasLimit(a){this.currentGasLimit$.next(a)}isItemVisible(a){return this.visibleItems.includes(a)}ngOnInit(){if(this.txTypeControl){const a=this.txTypeControl.valueChanges.pipe((0,g.x)(),(0,P.b)(o=>{this.txType$.next(o)}),(0,A.R)(this.onDestroy$));(0,C.O)(a,"txTypeControlChange$")}if(this.customGasPriceControl){const a=(0,T.a)([this.customGasPriceControl.valueChanges,this.swapConfirmationDataUpdate$]).pipe((0,P.b)(([o])=>{var p,M,G,j,Q;const J=(null!==(p=+o)&&void 0!==p?p:0)*(0,R.aY)(null!==(Q=null===(j=null===(G=null===(M=this.swapConfirmationData)||void 0===M?void 0:M.swapType)||void 0===G?void 0:G.params)||void 0===j?void 0:j.gasLimit)&&void 0!==Q?Q:0);this.customFlashTxFeeAmount$.next(J)}),(0,A.R)(this.onDestroy$));(0,C.O)(a,"customGasPriceControlChange$")}}handleOpenSettings(a){this.openSettings.emit(a)}translateGwei(a){return this.translocoService.translate("swapConfirmSettings.gasPrice.gwei-value",{value:a})}}W.\u0275fac=function(a){return new(a||W)(t.\u0275\u0275directiveInject(N.j),t.\u0275\u0275directiveInject(z.r),t.\u0275\u0275directiveInject(b.G),t.\u0275\u0275directiveInject(Y._),t.\u0275\u0275directiveInject(V.Vn),t.\u0275\u0275directiveInject(H._),t.\u0275\u0275directiveInject(r.V),t.\u0275\u0275directiveInject(w.j),t.\u0275\u0275directiveInject(f.F),t.\u0275\u0275directiveInject(D.a3,2))},W.\u0275cmp=t.\u0275\u0275defineComponent({type:W,selectors:[["swap-confirm-settings-rows"]],inputs:{visibleItems:"visibleItems",contextId:"contextId",swapConfirmationData:"swapConfirmationData",txTypeControl:"txTypeControl",customGasPriceControl:"customGasPriceControl",gasLimit:"gasLimit"},outputs:{openSettings:"openSettings"},features:[t.\u0275\u0275ProvidersFeature([D.a3])],decls:4,vars:3,consts:[[4,"ngIf"],["class","swap-confirm-settings-row trade-info-item-custom",4,"tuiLet"],[1,"swap-confirm-settings-row","trade-info-item-custom"],[1,"trade-item__title"],["transloco","swapConfirmSettings.gasPrice"],[1,"trade-item__value","edit-value"],["class","edit-link","transloco","swapConfirmSettings.edit","data-id","swapConfirmSettings.gasPrice.edit",3,"click",4,"ngIf"],["data-id","swapConfirmSettings.gasPrice.text"],["tooltipDirection","top","type","alert","data-id","swapConfirmSettings.gasPrice.alert-icon",3,"tooltipText",4,"ngIf"],["transloco","swapConfirmSettings.edit","data-id","swapConfirmSettings.gasPrice.edit",1,"edit-link",3,"click"],["tooltipDirection","top","type","alert","data-id","swapConfirmSettings.gasPrice.alert-icon",3,"tooltipText"],["transloco","swapConfirmSettings.slippageTolerance"],["class","trade-item__value edit-value",4,"tuiLet"],["class","edit-link","transloco","swapConfirmSettings.edit","data-id","swapConfirmSettings.slippageTolerance.edit",3,"click",4,"ngIf"],["data-id","swapConfirmSettings.slippageTolerance.text"],["class","auto-slippage-label",4,"ngIf"],["tooltipDirection","top","data-id","swapConfirmSettings.slippageTolerance.alert-icon",3,"tooltipText","type",4,"ngIf"],["transloco","swapConfirmSettings.edit","data-id","swapConfirmSettings.slippageTolerance.edit",1,"edit-link",3,"click"],["widgetId","slippage","class","edit-slippage",3,"contextId",4,"ngIf"],["widgetId","slippage",1,"edit-slippage",3,"contextId"],[1,"auto-slippage-label"],["tooltipDirection","top","data-id","swapConfirmSettings.slippageTolerance.alert-icon",3,"tooltipText","type"],["class","slippage-widget",4,"isSettingWidgetVisible"],[1,"slippage-widget"],["class","swap-confirm-settings-row trade-info-item-custom",4,"ngIf"],["class","swap-confirm__tx-cost",4,"ngIf"],[1,"swap-confirm__tx-cost"],[4,"tuiLet"],["data-id","confirm-swap.tx-cost-preview",3,"contextId","loading","txFeeAmount","gasPreview"],["data-id","confirm-swap.tx-cost-preview",3,"contextId","isEditEnable","loading","txFeeAmount","gasPreview"],["class","gas-price-widget",4,"isSettingWidgetVisible"],[1,"gas-price-widget"]],template:function(a,o){1&a&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,rt,3,3,"ng-container",0),t.\u0275\u0275template(2,xt,8,4,"ng-container",0),t.\u0275\u0275template(3,Mt,4,4,"ng-container",0),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.isItemVisible("gas-price")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.isItemVisible("slippage")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",o.isItemVisible("transaction-cost")))},dependencies:[V.KI,_.O5,I.X,s.Ls,K.z,O,et.z,nt.$,it.o,V.Ot,_.Ov],styles:["[_nghost-%COMP%]{display:block;overflow:hidden}.swap-confirm-settings-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:13px;line-height:15px}.swap-confirm-settings-row[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-right:8px}.swap-confirm-settings-row[_ngcontent-%COMP%]   .edit-link[_ngcontent-%COMP%]{text-decoration:none;margin-right:4px;cursor:pointer}.alert-row[_ngcontent-%COMP%]{color:var(--1inch__text-and-icons__error)}.warn-row[_ngcontent-%COMP%]{color:var(--1inch__text-and-icons__warning)}.edit-gas-price[_ngcontent-%COMP%], .edit-slippage[_ngcontent-%COMP%]{margin-right:4px}.edit-value[_ngcontent-%COMP%]{display:flex!important}.slippage-widget[_ngcontent-%COMP%]{margin-bottom:24px}.swap-confirm__tx-cost[_ngcontent-%COMP%]{width:100%}.auto-slippage-label[_ngcontent-%COMP%]{margin-left:4px;color:var(--1inch-icon-color-02)}"]}),(0,e.__decorate)([v.UM],W.prototype,"isItemVisible",null)},25541:(U,S,n)=>{n.d(S,{o:()=>H});var e=n(51109),t=n(18992),x=n(52126),l=n(29737),C=n(76027),c=n(64736),d=n(68751),$=n(76327),w=n(24124),D=n(36063),v=n(36565),h=n(86732),T=n(38143),y=n(38964),m=n(33904),u=n(74578),g=n(63582),P=n(12725),A=n(80135);function R(r,f){if(1&r&&(e.\u0275\u0275element(0,"gas-refund-value",6),e.\u0275\u0275pipe(1,"async")),2&r){const s=e.\u0275\u0275nextContext();e.\u0275\u0275property("refundPercent",e.\u0275\u0275pipeBind1(1,1,s.gasRefundPercent$))}}function F(r,f){if(1&r&&(e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(0,"svg",13),e.\u0275\u0275element(1,"use"),e.\u0275\u0275elementEnd()),2&r){const s=e.\u0275\u0275nextContext(5);e.\u0275\u0275advance(1),e.\u0275\u0275attribute("href","assets/images/icons/"+s.gasPreview.icon+".svg#"+s.gasPreview.icon,null,"xlink")}}function X(r,f){if(1&r&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275template(1,F,2,1,"svg",11),e.\u0275\u0275elementStart(2,"span",12),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"transloco"),e.\u0275\u0275elementEnd()()),2&r){const s=e.\u0275\u0275nextContext(4);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.gasPreview.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,2,s.gasPreview.title))}}function N(r,f){if(1&r){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"tooltip",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(s);const I=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(I.toggleGasSettings())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,X,5,4,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementContainerEnd()}if(2&r){const s=e.\u0275\u0275reference(3),_=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("tooltip",_.gasPreview.tooltip)("customElement",s)("clickableElement",!0)}}function z(r,f){if(1&r){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"setting-toggle",7),e.\u0275\u0275listener("toggleClick",function(I){e.\u0275\u0275restoreView(s);const K=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(K.emitToggleClick(I))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,N,4,3,"ng-container",4),e.\u0275\u0275elementContainerEnd()}if(2&r){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("contextId",s.contextId)("customToggleFlow",s.customToggleFlow),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.gasPreview)}}function b(r,f){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"span",14),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),2&r){const s=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,s.currentGasPriceGwei$))}}function Y(r,f){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,z,3,3,"ng-container",4),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,b,4,3,"ng-container",4),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementContainerEnd()),2&r){const s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,2,s.isSettingToggleAvailable$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(4,4,s.isSettingToggleAvailable$))}}function V(r,f){if(1&r){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"usd-token-price",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(s);const I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.handlePriceClick())}),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()}if(2&r){const s=f.tuiLet,_=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275classProp("skeleton-host",_.loading),e.\u0275\u0275property("showTokenAmount",s)("showUsdAmount",!s)("amount",e.\u0275\u0275pipeBind1(2,6,_.currentTxFeeAmount$))("token",e.\u0275\u0275pipeBind1(3,8,_.feeToken$))}}let H=(()=>{class r{constructor(s,_,I,K){this.activeConnectionQuery=s,this.gasRefundService=_,this.gasPriceQuery=I,this.settingToggleService=K,this.loading=!1,this.isEditEnable=!0,this.customToggleFlow=!1,this.toggleClick=new e.EventEmitter,this.currentTxFeeAmount$=new C.X(0),this.feeToken$=this.activeConnectionQuery.currentNativeToken$,this.showTokenAmount$=new C.X(!1),this.isSettingToggleAvailable$=this.activeConnectionQuery.currentChainId$.pipe((0,c.U)(O=>!x.o.includes(O))),this.currentGasPriceGwei$=this.isSettingToggleAvailable$.pipe((0,d.h)(O=>!O),(0,$.w)(()=>this.gasPriceQuery.currentGasPrice$.pipe((0,c.U)(O=>+(0,t.aY)(O).toFixed(3)+" "+this.activeConnectionQuery.currentChainGasUnitName)))),this.gasRefundPercent$=this.gasRefundService.gasRefundPercent$,this.isGasRefundVisible$=this.gasRefundPercent$.pipe((0,c.U)(O=>null!==O))}set txFeeAmount(s){(0,l.kKJ)(s)||this.currentTxFeeAmount$.next(s)}handlePriceClick(){this.showTokenAmount$.next(!this.showTokenAmount$.value)}toggleGasSettings(){this.settingToggleService.toggleIsWidgetOpened(this.contextId,"gas-price")}emitToggleClick(s){this.customToggleFlow&&this.toggleClick.emit(s)}}return r.\u0275fac=function(s){return new(s||r)(e.\u0275\u0275directiveInject(w.r),e.\u0275\u0275directiveInject(D.U),e.\u0275\u0275directiveInject(v.j),e.\u0275\u0275directiveInject(h.d))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["transaction-cost"]],inputs:{txFeeAmount:"txFeeAmount",contextId:"contextId",loading:"loading",isEditEnable:"isEditEnable",customToggleFlow:"customToggleFlow",gasPreview:"gasPreview"},outputs:{toggleClick:"toggleClick"},decls:9,vars:7,consts:[[1,"transaction-cost-title-wrap"],["transloco","swapBox.tx-cost"],["class","gas-refund-tooltip","data-id","info-gas-refund-value",3,"refundPercent",4,"ngIf"],[1,"transaction-cost-value-wrap"],[4,"ngIf"],[4,"tuiLet"],["data-id","info-gas-refund-value",1,"gas-refund-tooltip",3,"refundPercent"],["widgetId","gas-price",1,"edit-gas-price",3,"contextId","customToggleFlow","toggleClick"],["direction","top","contentType","custom",1,"gas-preset-preview",3,"tooltip","customElement","clickableElement","click"],["gas_preview",""],[1,"gas-preset-preview-wrap"],["width","16","height","16","class","gas-preset-preview-icon",4,"ngIf"],[1,"gas-preset-preview-title"],["width","16","height","16",1,"gas-preset-preview-icon"],[1,"constant-gas-value"],["data-id","info-transaction-cost-usd-price",1,"token-price",3,"showTokenAmount","showUsdAmount","amount","token","click"]],template:function(s,_){1&s&&(e.\u0275\u0275elementStart(0,"div",0)(1,"span",1),e.\u0275\u0275text(2,"Tx cost"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,R,2,3,"gas-refund-value",2),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275template(6,Y,5,6,"ng-container",4),e.\u0275\u0275template(7,V,4,10,"ng-container",5),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd()),2&s&&(e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,3,_.isGasRefundVisible$)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",_.isEditEnable),e.\u0275\u0275advance(1),e.\u0275\u0275property("tuiLet",e.\u0275\u0275pipeBind1(8,5,_.showTokenAmount$)))},dependencies:[T.O5,y.C,m.C,u.Ls,g.z,P.KI,A.K,T.Ov,P.Ot],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;height:16px}.transaction-cost-title-wrap[_ngcontent-%COMP%]{display:flex;color:var(--1inch__ui-02)}.transaction-cost-gas-refund[_ngcontent-%COMP%]{margin-left:0;margin-top:-1px}.transaction-cost-value-wrap[_ngcontent-%COMP%]{display:flex;align-items:center}.edit-gas-price[_ngcontent-%COMP%]{margin-right:8px}.token-price[_ngcontent-%COMP%]{cursor:pointer}.token-price[_ngcontent-%COMP%]     span{color:var(--1inch-text-01)!important}.gas-preset-preview[_ngcontent-%COMP%]{margin-left:0;cursor:pointer}.gas-preset-preview[_ngcontent-%COMP%]:hover   .gas-preset-preview-icon[_ngcontent-%COMP%], .gas-preset-preview[_ngcontent-%COMP%]:hover   .gas-preset-preview-title[_ngcontent-%COMP%]{color:var(--1inch-text-01)}.gas-preset-preview-icon[_ngcontent-%COMP%]{margin-right:4px;color:var(--1inch__ui-02)}.gas-preset-preview-title[_ngcontent-%COMP%]{line-height:16px;margin-right:8px;color:var(--1inch__ui-02)}.constant-gas-value[_ngcontent-%COMP%]{margin-right:8px;color:var(--1inch__ui-02)}.gas-refund-tooltip[_ngcontent-%COMP%]{margin-top:-1px}.skeleton-host[_ngcontent-%COMP%]{height:16px}.gas-preset-preview-wrap[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),r})()}}]);